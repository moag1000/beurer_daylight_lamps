# Services for Beurer Daylight Lamps

apply_preset:
  name: Apply preset
  description: Apply a predefined lighting preset to the lamp
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
  fields:
    preset:
      name: Preset
      description: The preset to apply
      required: true
      selector:
        select:
          options:
            - "daylight_therapy"
            - "relax"
            - "focus"
            - "reading"
            - "warm_cozy"
            - "cool_bright"
            - "sunset"
            - "night_light"
            - "energize"

send_raw_command:
  name: Send raw command (Expert)
  description: "Send a raw BLE command to the lamp. For reverse engineering and testing. Format: hex bytes separated by spaces (e.g., '3E 1E' for 30-min timer)"
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
  fields:
    command:
      name: Command bytes
      description: "Hex bytes to send (e.g., '3E 1E' for timer). Known: 30=status, 31=brightness, 32=color, 34=effect, 35=off, 37=mode, 3E=timer. Unknown: 33, 36, 38, 39"
      required: true
      example: "3E 1E"
      selector:
        text:

set_timer:
  name: Set Timer
  description: "Set an auto-off timer on the lamp. Timer only works in RGB mode - the lamp will automatically switch to RGB mode if needed. Range: 1-240 minutes."
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
  fields:
    minutes:
      name: Minutes
      description: "Timer duration in minutes (1-240). Popular values: 15, 21, 30, 60 minutes for therapy sessions."
      required: true
      selector:
        number:
          min: 1
          max: 240
          step: 1
          unit_of_measurement: "min"
          mode: slider

start_sunrise:
  name: Start Sunrise Simulation
  description: "Start a gradual sunrise simulation. The light slowly increases brightness and shifts from warm to cool white, mimicking natural sunrise. NOTE: This is a lifestyle/wellness feature, not a medical device."
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
  fields:
    duration:
      name: Duration
      description: "Duration of the sunrise in minutes (1-60)"
      default: 15
      selector:
        number:
          min: 1
          max: 60
          step: 1
          unit_of_measurement: "min"
          mode: slider
    profile:
      name: Profile
      description: "Sunrise profile determining color temperature and brightness curves"
      default: "natural"
      selector:
        select:
          options:
            - label: "Gentle - Very slow, warm start (2200K to 3500K)"
              value: "gentle"
            - label: "Natural - Natural sunrise simulation (2700K to 5000K)"
              value: "natural"
            - label: "Energize - Fast, cool light for alertness (3500K to 6500K)"
              value: "energize"
            - label: "Therapy - Optimized for light exposure (2700K to 5300K)"
              value: "therapy"

start_sunset:
  name: Start Sunset Simulation
  description: "Start a gradual sunset simulation. The light slowly decreases brightness and shifts to warm tones, helping prepare for sleep. NOTE: This is a lifestyle/wellness feature, not a medical device."
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
  fields:
    duration:
      name: Duration
      description: "Duration of the sunset in minutes (1-60)"
      default: 30
      selector:
        number:
          min: 1
          max: 60
          step: 1
          unit_of_measurement: "min"
          mode: slider
    end_brightness:
      name: End Brightness
      description: "Final brightness percentage (0 = turn off completely)"
      default: 0
      selector:
        number:
          min: 0
          max: 100
          step: 5
          unit_of_measurement: "%"
          mode: slider

stop_simulation:
  name: Stop Simulation
  description: "Stop any running sunrise or sunset simulation. The light will remain at its current state."
  target:
    entity:
      integration: beurer_daylight_lamps
      domain: light
